## 12.6 版本与兼容性说明

框架、模型与平台的版本变化非常快。相比维护一份“某日的最新版本清单”，本书更推荐维护一套**版本管理与兼容性核对的方法**，让读者能在任何时间点用同一套流程完成自检。

### 12.6.1 为什么不提供固定版本表

固定版本表通常会遇到三个问题：

1. **很快过期**：一旦过期，读者会把“信息不准”误读为“方法不可用”。
2. **不具可迁移性**：同一名字在不同环境（云端、私有化、本地）含义不同。
3. **维护成本高**：版本、功能、配置格式与弃用策略经常同时变化。

### 12.6.2 兼容性自检清单

建议把自检拆成“接口、配置、行为”三类。

**接口自检**：
- 工具调用接口：参数结构、返回结构、错误码与重试语义。
- 模型接口：上下文窗口、工具调用能力、结构化输出支持。
- 可观测性接口：链路与跨度数据结构、事件字段、采样策略。

**配置自检**：
- 项目规则文件：位置、格式、加载顺序与覆盖策略。
- 技能与工具服务：目录结构、启用方式、权限与密钥管理。
- 运行模式：审批策略、沙箱策略、网络与文件系统权限。

**行为自检**：
- 任务是否能稳定复现（相同输入的稳定性）。
- 测试与回归是否可自动化运行。
- 失败是否可诊断、可回放、可归因。

### 12.6.3 推荐实践：用“回归样例集”替代版本表

与其维护版本号，不如维护一个小而精的回归样例集，用来验证升级前后行为是否一致：

1. 选择 10–30 个代表性任务（覆盖工具调用、检索、结构化输出、长任务）。
2. 为每个任务定义验收标准（输出结构、关键字段、允许波动范围）。
3. 每次升级前后跑一次回归，对差异进行记录与解释。

---

**返回**：[附录索引](README.md)

